import { CommonModule } from '@angular/common';
import { Component, Input } from '@angular/core';

export interface HeaderAction {
  label: string;
  icon?: string;
  onClick?: () => void;
}

@Component({
  selector: 'app-header-bar',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './header-bar.component.html',
  styleUrls: ['./header-bar.component.css'],
})
export class HeaderBarComponent {
  @Input()
  username: string = 'Usuario';

  @Input()
  actions: HeaderAction[] = [];

  @Input()
  appName: string = 'Integra CRM';

  handleActionClick(action: HeaderAction, event: Event): void {
    event.preventDefault();
    if (action.onClick) {
      action.onClick();
    }
  }

  getIconSvg(iconName?: string): string {
    const icons: { [key: string]: string } = {
      menu: '<path d="M16.625 14.25C17.0622 14.25 17.4166 14.6044 17.4166 15.0416C17.4166 15.4789 17.0622 15.8333 16.625 15.8333H2.37498C1.93775 15.8333 1.58331 15.4789 1.58331 15.0416C1.58331 14.6044 1.93775 14.25 2.37498 14.25H16.625ZM16.625 8.70829C17.0622 8.70829 17.4166 9.06273 17.4166 9.49996C17.4166 9.93718 17.0622 10.2916 16.625 10.2916H2.37498C1.93775 10.2916 1.58331 9.93718 1.58331 9.49996C1.58331 9.06273 1.93775 8.70829 2.37498 8.70829H16.625ZM16.625 3.16663C17.0622 3.16663 17.4166 3.52107 17.4166 3.95829C17.4166 4.39552 17.0622 4.74996 16.625 4.74996H2.37498C1.93775 4.74996 1.58331 4.39552 1.58331 3.95829C1.58331 3.52107 1.93775 3.16663 2.37498 3.16663H16.625Z"/>',
      phone: '<g clip-path="url(#clip0)"><path d="M5 2.5C5 2.33424 4.9341 2.17532 4.81689 2.05811C4.71431 1.95552 4.57977 1.89223 4.43665 1.87805L4.375 1.875H2.5C2.33424 1.875 2.17532 1.9409 2.05811 2.05811C1.9409 2.17532 1.875 2.33424 1.875 2.5C1.875 5.31792 2.99461 8.02024 4.98718 10.0128C6.97976 12.0054 9.68207 13.125 12.5 13.125C12.6658 13.125 12.8247 13.0591 12.9419 12.9419C13.0591 12.8247 13.125 12.6658 13.125 12.5V10.625C13.125 10.4592 13.0591 10.3003 12.9419 10.1831C12.8247 10.0659 12.6658 10 12.5 10H10.625C10.528 10 10.4322 10.0225 10.3455 10.0659C10.2587 10.1093 10.1833 10.1726 10.1251 10.2502L10.1221 10.2545L9.8999 10.5438C9.72786 10.7698 9.48452 10.9309 9.20898 10.9998C8.93343 11.0686 8.64252 11.0414 8.3844 10.9229C8.37957 10.9206 8.37452 10.9185 8.36975 10.9161C6.50982 10.0033 5.00455 8.5 4.08936 6.64124L4.08813 6.63879C3.96168 6.37934 3.92889 6.0841 3.99536 5.80322C4.06189 5.52229 4.22368 5.27288 4.45312 5.09766L4.4574 5.0946L4.74976 4.87488C4.82738 4.81666 4.89069 4.74133 4.93408 4.65454C4.97747 4.56776 5 4.47203 5 4.375V2.5ZM6.25 4.375C6.25 4.66608 6.18242 4.95327 6.05225 5.21362C5.92207 5.47398 5.73275 5.70059 5.49988 5.87524L5.21118 6.0907C6.00198 7.696 7.30103 8.99479 8.90564 9.78638L9.12476 9.50012L9.19312 9.41467C9.357 9.22079 9.55863 9.06163 9.78638 8.94775C10.0467 8.81758 10.3339 8.75 10.625 8.75H12.5C12.9973 8.75 13.4741 8.94769 13.8257 9.29932C14.1773 9.65095 14.375 10.1277 14.375 10.625V12.5C14.375 12.9973 14.1773 13.4741 13.8257 13.8257C13.4741 14.1773 12.9973 14.375 12.5 14.375C9.35055 14.375 6.33039 13.1236 4.10339 10.8966C1.8764 8.66961 0.625 5.64945 0.625 2.5C0.625 2.00272 0.822686 1.52595 1.17432 1.17432C1.52595 0.822686 2.00272 0.625 2.5 0.625H4.375C4.87228 0.625 5.34905 0.822686 5.70068 1.17432C6.05231 1.52595 6.25 2.00272 6.25 2.5V4.375Z"/></g><defs><clipPath id="clip0"><rect width="15" height="15"/></clipPath></defs>',
      bell: '<path d="M9.64958 15.375C9.85671 15.0163 10.3155 14.8932 10.6742 15.1003C11.0329 15.3074 11.1559 15.7663 10.9489 16.125C10.7514 16.467 10.4669 16.7508 10.1249 16.9482C9.78289 17.1457 9.39486 17.25 8.99992 17.25C8.60505 17.25 8.2169 17.1457 7.87492 16.9482C7.53303 16.7508 7.24911 16.4669 7.05168 16.125C6.84456 15.7663 6.96763 15.3075 7.32634 15.1003C7.68497 14.8935 8.14316 15.0165 8.35027 15.375C8.41608 15.489 8.51094 15.5838 8.62492 15.6497C8.73888 15.7154 8.86834 15.75 8.99992 15.75C9.13149 15.75 9.26097 15.7154 9.37492 15.6497C9.48892 15.5838 9.58375 15.489 9.64958 15.375ZM12.7499 6C12.7499 5.00557 12.3551 4.05187 11.652 3.34863C10.9488 2.64537 9.99449 2.25 8.99992 2.25C8.00543 2.25005 7.05177 2.64541 6.34856 3.34863C5.64535 4.05189 5.24992 5.00548 5.24992 6C5.24992 7.76569 4.97317 8.99865 4.52483 9.94775C4.08198 10.8852 3.49432 11.4904 3.00066 12H14.9999C14.5052 11.4901 13.9184 10.8846 13.4758 9.94775C13.0273 8.99848 12.7499 7.76561 12.7499 6ZM14.2499 6C14.2499 7.60851 14.5019 8.60917 14.8315 9.30688C15.0793 9.83146 15.3847 10.2167 15.7323 10.5938L16.0934 10.9731L16.1095 10.9907C16.3052 11.2057 16.4343 11.4728 16.4809 11.7598C16.5274 12.0466 16.4899 12.3407 16.3725 12.6064C16.2549 12.8722 16.0623 13.0983 15.8188 13.2568C15.6055 13.3956 15.3609 13.4781 15.1083 13.4963L14.9999 13.5H2.99992C2.70921 13.4998 2.42455 13.415 2.18108 13.2561C1.9376 13.0972 1.74538 12.871 1.6281 12.605C1.51085 12.339 1.47349 12.0444 1.52043 11.7576C1.5674 11.4708 1.69669 11.2039 1.8925 10.9893L1.90788 10.9724C2.40622 10.4579 2.83799 10.0063 3.16838 9.30688C3.47738 8.65277 3.7181 7.73239 3.74699 6.29443L3.74992 6C3.74992 4.60761 4.30344 3.27192 5.28801 2.28735C6.27251 1.303 7.60773 0.750049 8.99992 0.75C10.3923 0.75 11.728 1.30285 12.7126 2.28735C13.6971 3.27192 14.2499 4.60761 14.2499 6Z"/>',
      'refresh-cw': '<path d="M1.25 13.125V10C1.25 9.65482 1.52982 9.375 1.875 9.375H5C5.34518 9.375 5.625 9.65482 5.625 10C5.625 10.3452 5.34518 10.625 5 10.625H3.38379L3.72192 10.9631L3.91602 11.142C4.90577 12.0105 6.17857 12.4941 7.50122 12.4994C8.82686 12.4991 10.0984 11.9732 11.0358 11.0358C11.9734 10.0981 12.5 8.82608 12.5 7.5C12.5 7.15482 12.7798 6.875 13.125 6.875C13.4702 6.875 13.75 7.15482 13.75 7.5C13.75 9.1576 13.0917 10.7475 11.9196 11.9196C10.7475 13.0917 9.1576 13.75 7.5 13.75H7.49756C5.87203 13.7439 4.30776 13.1487 3.09143 12.0813L2.84546 11.8542L2.5 11.5088V13.125C2.5 13.4702 2.22018 13.75 1.875 13.75C1.52982 13.75 1.25 13.4702 1.25 13.125ZM1.25 7.5C1.25 5.8424 1.90834 4.25255 3.08044 3.08044C4.25255 1.90834 5.8424 1.25 7.5 1.25H7.50244L7.82654 1.25916C9.33493 1.33767 10.7733 1.92241 11.9086 2.9187L12.1545 3.14575L12.5 3.49121V1.875C12.5 1.52982 12.7798 1.25 13.125 1.25C13.4702 1.25 13.75 1.52982 13.75 1.875V5C13.75 5.34518 13.4702 5.625 13.125 5.625H10C9.65482 5.625 9.375 5.34518 9.375 5C9.375 4.65482 9.65482 4.375 10 4.375H11.6162L11.2781 4.03687L11.084 3.85803C10.0941 2.98938 8.82104 2.5051 7.49817 2.5C6.17275 2.50048 4.90148 3.02698 3.96423 3.96423C3.02655 4.90192 2.5 6.17392 2.5 7.5C2.5 7.84518 2.22018 8.125 1.875 8.125C1.52982 8.125 1.25 7.84518 1.25 7.5Z"/>'
    };
    
    return icons[iconName?.toLowerCase() || ''] || '';
  }
}
